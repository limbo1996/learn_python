# Python 数据结构

## 运行时间检测

用到python的`time`模块检测不同的累计求和算法的效率

```python
def sumOfN(n):
  start = time.time()
  theSum = 0
  for i in range(1, n + 1):
    theSum = theSum + 1
	
  end = time.time()
  return theSum, end - start


for i in range(5):
  print("Sum id %d required %f seconds" 
        % sumOfN(10000))
```

```python
Sum is 50005000 required 0.000324 seconds
Sum is 50005000 required 0.000335 seconds
Sum is 50005000 required 0.000299 seconds
Sum is 50005000 required 0.000299 seconds
Sum is 50005000 required 0.000335 seconds
```

当求和的数量级继续增加

`100000`

```python
Sum is 5000050000 required 0.010225 seconds
Sum is 5000050000 required 0.006815 seconds
Sum is 5000050000 required 0.005984 seconds
Sum is 5000050000 required 0.005179 seconds
Sum is 5000050000 required 0.004217 seconds
```

`1000000`

```python
Sum is 500000500000 required 0.050195 seconds
Sum is 500000500000 required 0.041557 seconds
Sum is 500000500000 required 0.035992 seconds
Sum is 500000500000 required 0.037516 seconds
Sum is 500000500000 required 0.036436 seconds
```

### 无迭代算法

```python
def sumOfN2(n):
  start = time.time()
  theSum = (n * (n + 1)) / 2
  end = time.time()
  return theSum, end - start
```

`10000`

```python
Sum is 50005000 required 0.000003 seconds
Sum is 50005000 required 0.000001 seconds
Sum is 50005000 required 0.000001 seconds
Sum is 50005000 required 0.000001 seconds
Sum is 50005000 required 0.000001 seconds
```

`100000`

```python
Sum is 5000050000 required 0.000003 seconds
Sum is 5000050000 required 0.000001 seconds
Sum is 5000050000 required 0.000001 seconds
Sum is 5000050000 required 0.000001 seconds
Sum is 5000050000 required 0.000001 seconds
```

无迭代算法的运行时间和输入的数的大小没有关系

## 大O表示法

### 算法时间度量指标

一个算法所实施的操作数量或者步骤数可作为独立于程序的度量指标

算法中，赋值语句多，时间就长

```python
def sumOfN(n):
	theSum = 0
	for i in range(1, n + 1):
		theSum = theSum + 1
	return theSum
```

赋值语句数量`T(n) = 1 + n`,  即此函数赋值语句执行的次数。

### 问题规模影响算法执行时间

算法分析的目标是找到问题规模怎么影响算法执行时间的

### 数量级函数

`T(n)`中占**主导**的部分，称为**大O**表示法。

所以上面函数的运行时间数量级就是**O(n)**， 也称为算法的时间复杂度，再比如:
$$
T(n) = 5n^2 + 27n + 1005
$$
他的时间复杂度为
$$
O(n^2)
$$

而无迭代算法累计求和的的时间复杂度就是`O(1)`

## 线性结构

* 栈
* 队列
* 双端队列
* 列表

他们的区别是数据的增减先后的关系，只存在先后关系，所以是线性结构

### 栈

栈是一系列对象组成的集合，这些对象的插入和删除错遵循**先进后出**的原则。

就像向弹夹中塞子弹，最先发射的是最后一个装进去的。

* 浏览器的历史记录，最上面的是最后浏览的。
* 撤销机制， 取消的是最近的一个操作。

可以用python的**列表**来实现一个栈

列表已经支持`append`函数，用于向列表尾部压入一个元素，并且支持`pop`函数，从尾部弹出一个元素。所以列表的尾部应该是栈的栈顶，当然头部也可以，但是会比较麻烦。

当然列表与栈还是有区别的。

